(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(87986)}])},87986:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var a=n(47568),s=n(70603),i=n(20414),r=n(85893),p=n(93901),l=n(64146),o=n(35553),u=n(86494),d=n(241),y=n(21046),c=n(67294),m=n(9669),f=n.n(m),b=n(42484),h=n.n(b),v=n(73380),x=n.n(v),w=n(35823),T=n.n(w),g=(n(58173),n(31838)),M=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[],"name":"DOMAIN_SEPARATOR","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"nonces","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"permit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),N=n(81615),_=n(8693),j=n(34155);function k(){var e={nftContent:{display:"flex",flexDirection:"column-reverse",justifyContent:"space-between"}},t=(0,c.useState)([]),n=t[0],m=t[1],b=(0,c.useState)("not-loaded"),v=b[0],w=b[1];(0,c.useEffect)((function(){k()}),[]);var j=function(e,t,n){console.log("File Url => ",e),n?alert("This is private asset so only owner could download file!"):f().get(e,{responseType:"blob"}).then((function(e){T()(e.data,t)}))};function k(){return C.apply(this,arguments)}function C(){return C=(0,a.Z)((function(){var e,t,n,s,r;return(0,i.__generator)(this,(function(u){switch(u.label){case 0:return e="https://goerli.infura.io/v3/".concat("e7631065f3c044f69188f39628368bd7"),t=new p.c(e),n=new l.CH(g.kl,N.Mt,t),[4,new l.CH(g.AX,_.Mt,t).fetchMarketItems()];case 1:return s=u.sent(),[4,Promise.all(s.map(function(){var e=(0,a.Z)((function(e){var t,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,n.tokenURI(e.tokenId)];case 1:return t=i.sent(),console.log(t),[4,f().get(t)];case 2:return a=i.sent(),console.log("Meta:"),console.log(a.data),s=o.formatUnits(e.price.toString(),"ether"),[2,{price:s,itemId:e.itemId.toNumber(),tokenId:e.tokenId.toNumber(),seller:e.seller,owner:e.owner,private:e.isPrivateAsset,image:a.data.image,name:a.data.name,description:a.data.description,type:a.data.type,doc:a.data.doc,terms:a.data.terms,extraFilesUrl:a.data.extraFiles,origin:a.data.origin}]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 2:return r=u.sent(),m(r),w("loaded"),console.log("items",r),[2]}}))})),C.apply(this,arguments)}var A=function(){var e=(0,a.Z)((function(e,t,n,a,r,p,l){var o,d,y,c,m,f,b;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([t.nonces(p),t.name(),"1",5])];case 1:return o=s.Z.apply(void 0,[i.sent(),4]),d=o[0],y=o[1],c=o[2],m=o[3],b=(f=u).splitSignature,[4,e._signTypedData({name:y,version:c,chainId:m,verifyingContract:l},{Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},{owner:p,spender:n,value:a,nonce:d,deadline:r})];case 2:return[2,b.apply(f,[i.sent()])]}}))}));return function(t,n,a,s,i,r,p){return e.apply(this,arguments)}}();function O(){return O=(0,a.Z)((function(e){var t,n,a,s,r,p,u,c,m,f,b,v;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,(new(h())).connect()];case 1:return t=i.sent(),n=new d.Q(t),[4,(a=n.getSigner()).getAddress()];case 2:return s=i.sent(),r=new l.CH(g.xS,M.Mt,a),p=o.parseUnits(e.price.toString(),"ether"),u=y.Bz,c=new l.CH(g.AX,_.Mt,a),[4,A(a,r,g.AX,p,u,s,g.xS)];case 3:return m=i.sent(),f=m.v,b=m.r,v=m.s,console.log(e.itemId),[4,c.createMarketSale(g.kl,e.itemId,u,f,b,v)];case 4:return[4,i.sent().wait()];case 5:return i.sent(),k(),[2]}}))})),O.apply(this,arguments)}return"not-loaded"===v?(0,r.jsxs)("div",{className:"sweet-loading",align:"center",style:{marginTop:"200px"},children:[(0,r.jsx)(x(),{size:35}),(0,r.jsx)("p",{align:"center",className:"font-bold",style:{color:"#3079AB"},children:"Loading up the market place, please wait..."})]}):"loaded"!==v||n.length?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("div",{className:"p-4",style:{maxWidth:"1600px"},children:(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 pt-4",children:n.map((function(t,n){return(0,r.jsxs)("div",{className:"border shadow rounded-xl overflow-scroll bg-black text-white",style:{height:"80vh"},children:[(0,r.jsx)("img",{src:"https://ipfs.io/ipfs/"+t.image.split("ipfs://")[1],style:{height:"211px",width:"100%"}}),(0,r.jsxs)("div",{style:e.nftContent,children:[(0,r.jsx)("a",{target:"_blank",children:(0,r.jsxs)("div",{className:"p-4 ",style:{marginTop:"40px"},children:[(0,r.jsxs)("div",{className:"flex items-center text-center",children:[(0,r.jsx)("p",{style:{height:"40px",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"250px",whiteSpace:"nowrap"},className:"text-2xl font-semibold",children:t.name}),t.private?(0,r.jsx)("div",{className:"ml-2",children:"(private)"}):""]}),(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsx)("p",{className:"text-gray-400",children:t.description})}),(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsx)("p",{className:"text-gray-400",children:t.type})}),(0,r.jsx)("div",{className:"cursor-pointer",style:{overflow:"hidden"},onClick:function(e){return j("".concat(t.extraFilesUrl,"/").concat(t.doc),t.doc,t.private)},children:(0,r.jsx)("p",{className:"text-gray-400",children:t.doc})}),(0,r.jsx)("div",{className:"cursor-pointer",style:{overflow:"hidden"},onClick:function(e){return j("".concat(t.extraFilesUrl,"/").concat(t.terms),t.terms,t.private)},children:(0,r.jsx)("p",{className:"text-gray-400",children:t.terms})})]})}),(0,r.jsxs)("div",{className:"p-4 bg-black",style:{marginTop:"35px"},children:[(0,r.jsxs)("p",{className:"text-2xl mb-4 font-bold text-white",children:[t.price," Aero"]}),(0,r.jsx)("button",{className:"w-full text-white font-bold py-2 px-12 rounded",style:{backgroundColor:"#3079AB"},onClick:function(){return function(e){return O.apply(this,arguments)}(t)},children:"Buy"})]})]})]},n)}))})})}):(0,r.jsx)("h1",{className:"px-20 py-10 text-3xl",style:{color:"#3079AB"},children:"No items in marketplace"})}j.env.NEXT_PUBLIC_WORKSPACE_URL&&j.env.NEXT_PUBLIC_WORKSPACE_URL}},function(e){e.O(0,[380,669,727,828,774,888,179],(function(){return t=75557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);