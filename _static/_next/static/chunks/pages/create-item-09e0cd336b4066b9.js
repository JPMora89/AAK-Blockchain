(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{12807:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-item",function(){return n(66362)}])},66362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var s=n(47568),r=n(41799),i=n(69396),a=n(20414),c=n(85893),o=n(67294),l=n(241),u=n(35553),p=n(64146),d=n(11163),h=n(42484),m=n.n(h),f=n(73380),g=n.n(f),y=n(5745),x=n(38892),N=n(31838),v=n(81615),j=n(8693),A=new x.j3({token:"".concat("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDY3NzkyQTg3Nzc3N0I5ODRGNTJkNjMzRjlGZjFCMDY4MUUxMTlGZGIiLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY1NTgzNDA0MDUwMCwibmFtZSI6IlRlc3QifQ.FDuHD0tBdm9Ezyl04Yqq7p00HvT0LENH2sJYwWYO_0Y")});function w(){var e=function(){var e=new Array;return document.querySelectorAll("input[type=file]").forEach((function(t){e.push(t.files[0])})),e},t=function(){return new y.xk({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDM3ODk2MDgxNTZjZDU5M0YzMDU0RWYwMDdhQmM5NkM2YzczYkMyMEYiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2Njk4MDAwNTEwNjcsIm5hbWUiOiJBQUstTkZUIn0.gZX6mSm2H7Weg3Ram6z0vJQs1EeZp6yG3jM4FRkUYes"})},n=(0,o.useState)(!1),h=n[0],f=n[1],x=(0,d.useRouter)(),w=(0,o.useState)(""),Z=w[0],C=w[1],k=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=x.asPath;console.log("ogiginPath",e),e.includes("=")&!e.includes("&")?e="profile/".concat(e.split("=")[1]):e.includes("=")&&e.includes("&")&&(e="create_projects/profile/".concat(e.split("=")[2])),C(e)}),[]);var I=(0,o.useState)(null),b=I[0],M=(I[1],(0,o.useState)({price:"",name:"",description:"",type:"",doc:"",terms:"",privateAsset:!1,origin:Z})),_=M[0],J=M[1];function T(){return(T=(0,s.Z)((function(e){var t;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return t=e.target.files[0],console.log(t),[4,A.store({name:"Test",description:"Test",image:t})];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}console.log("pathToAAK",Z);function D(e){return z.apply(this,arguments)}function z(){return(z=(0,s.Z)((function(e){var n;return(0,a.__generator)(this,(function(s){switch(s.label){case 0:return[4,t().put(e)];case 1:return n=s.sent(),console.log("stored files with cid:",n),[2,n]}}))}))).apply(this,arguments)}function Y(){return(Y=(0,s.Z)((function(){var t,n,s,r,i,c,o,l,u;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return f(!0),t=_.name,n=_.description,s=_.price,r=_.type,_.doc,_.terms,i=k.current.files[0],t&&s&&i?(c=e(),console.log(c),[4,D(c)]):(console.error("Incomplete inputs"),[2]);case 1:return o=a.sent(),console.log("CID => ",o),[4,A.store({name:t,description:n,price:s,type:r,extraFiles:"https://".concat(o,".ipfs.w3s.link"),doc:c[0].name,terms:c[1].name,image:i})];case 2:return l=a.sent(),console.log(l),u=l.ipnft,console.log("Final CID => ",u),[4,E("https://ipfs.io/ipfs/".concat(u,"/metadata.json"))];case 3:return a.sent(),f(!1),[2]}}))}))).apply(this,arguments)}function E(e){return O.apply(this,arguments)}function O(){return(O=(0,s.Z)((function(e){var t,n,s,r,i,c,o,d,h;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,(new(m())).connect()];case 1:return t=a.sent(),n=new l.Q(t),s=n.getSigner(),r=u.parseUnits(_.price,"ether"),i=new p.CH(N.AX,j.Mt,s),c=new p.CH(N.kl,v.Mt,s),[4,s.getAddress()];case 2:return o=a.sent(),[4,c.isApprovedForAll(o,N.AX)];case 3:return d=a.sent(),console.log("isApprovedForAll => ",d),d?[3,6]:[4,c.setApprovalForAll(N.AX,!0)];case 4:return[4,a.sent().wait()];case 5:a.sent(),a.label=6;case 6:return[4,i.getListingPrice()];case 7:return h=(h=a.sent()).toString(),[4,i.createMarketItem(N.kl,e,r,_.privateAsset,{value:h})];case 8:return[4,a.sent().wait()];case 9:return a.sent(),x.push("/"),[2]}}))}))).apply(this,arguments)}return(0,c.jsx)(c.Fragment,{children:h?(0,c.jsxs)("div",{className:"sweet-loading",align:"center",style:{marginTop:"200px"},children:[(0,c.jsx)(g(),{submitloading:h,size:35}),(0,c.jsx)("p",{align:"center",className:"font-bold",style:{color:"#3079AB"},children:"Transaction in progress, please wait..."})]}):(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:"flex justify-center",children:(0,c.jsxs)("div",{className:"w-1/2 flex flex-col pb-12",children:[(0,c.jsx)("h1",{className:"py-10 text-3xl flex ",style:{color:"#3079AB",alignSelf:"flex-start"},children:"Create a New Asset"}),(0,c.jsx)("input",{placeholder:"Asset Name",className:"mt-4 border rounded p-4",onChange:function(e){return J((0,i.Z)((0,r.Z)({},_),{name:e.target.value}))}}),(0,c.jsxs)("select",{name:"type",id:"type",className:"mt-2 border rounded p-4",style:{color:"rgb(145, 145, 145)"},onChange:function(e){return J((0,i.Z)((0,r.Z)({},_),{type:e.target.value}))},children:[(0,c.jsx)("option",{value:"",children:"Asset Type"}),(0,c.jsx)("option",{value:"NDA",children:"NDA"}),(0,c.jsx)("option",{value:"Patent",children:"Patent"}),(0,c.jsx)("option",{value:"License Agreement",children:"Licence Agreement"})]}),(0,c.jsx)("input",{type:"file",name:"Contract",className:"my-4",onChange:function(e){return J((0,i.Z)((0,r.Z)({},_),{doc:e.target.value}))}}),(0,c.jsx)("input",{placeholder:"Asset Terms and Conditions",className:"mt-2 border rounded p-4",onChange:function(e){return J((0,i.Z)((0,r.Z)({},_),{description:e.target.value}))}}),(0,c.jsx)("input",{type:"file",name:"Terms",className:"my-6",onChange:function(e){return J((0,i.Z)((0,r.Z)({},_),{terms:e.target.value}))}}),(0,c.jsx)("input",{placeholder:"Asset Price in Aero",className:"mt-2 border rounded p-4",onChange:function(e){return J((0,i.Z)((0,r.Z)({},_),{price:e.target.value}))}}),(0,c.jsxs)("label",{style:(0,i.Z)((0,r.Z)({},{display:"inline-block",padding:"12px",cursor:"pointer",backgroundColor:"#3079AB",color:"#fff"}),{maxWidth:"140px"}),className:"rounded mt-4 font-bold",children:[(0,c.jsx)("input",{type:"file",name:"Asset",className:"my-6",id:"image",ref:k,onChange:function(e){return T.apply(this,arguments)},style:{display:"none"}}),"Choose Image"]}),b&&(0,c.jsx)("img",{className:"rounded mt-4",width:"350",src:b,style:{width:"20vh"}}),(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{type:"checkbox",name:"PrivateAsset",className:"my-6",id:"private_sale",checked:_.privateAsset,onChange:function(){J((0,i.Z)((0,r.Z)({},_),{privateAsset:!_.privateAsset}))}}),(0,c.jsx)("span",{className:"ml-5",children:"Private Asset"})]}),(0,c.jsx)("button",{onClick:function(){return Y.apply(this,arguments)},className:"font-bold text-white rounded p-4 shadow-lg",style:{backgroundColor:"#3079AB"},children:"Create Asset"})]})})})})}}},function(e){e.O(0,[380,764,871,828,774,888,179],(function(){return t=12807,e(e.s=t);var t}));var t=e.O();_N_E=t}]);